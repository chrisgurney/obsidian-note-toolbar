# What's new in Note Toolbar v1.29?

_Make sure you've updated to the latest version to get all of these changes._

## New Features ðŸŽ‰

### Help on first startup

> Available in `v1.29.05+`

<img width="600" src="https://github.com/user-attachments/assets/135c2025-8542-4719-9003-68d251e4548c" />

The Help view is now shown on first startup of the plugin. Cards at the top link to a new Getting Started help page, and to the Gallery.

### Default toolbar

> Available in `v1.29.05+`

<img width="600" src="https://github.com/user-attachments/assets/0af8ce7b-2d22-4e4c-aa52-fadeafe78c49" />

You can now more easily set a Default toolbar that applies to all notes. The setting is at the top of the **Display rules** section.

- You will be asked after creating your first toolbar if you wish to set it as the Default.
- Mapping `*` to a toolbar still does the same thing, so existing mappings will continue to work.

### Web viewer toolbar (desktop only)

> Available in `v1.29.12+`

Select a toolbar to appear in Web viewer tabs, under **Toolbars within the app â†’ Web viewer**.

- The [Web viewer core plugin â†—](https://help.obsidian.md/plugins/web-viewer) must be enabled to see this setting.
- The toolbar can appear next to the address bar, underneath it, or floating above web content in the _Bottom_, or _Floating button_ positions.
- Use this to display bookmarks, or to access other tools that might be handy while browsing.
- _Thank you @azaol-aegnor for the suggestion!_

If needed, access the current page's title and URL with this script:

```js
const v = ntb.app.workspace.getActiveViewOfType(ntb.o.ItemView);
const s = v?.getState();
console.log(s.title, s.url);
```

### Visibility indicators

<img width="500" alt="Screenshot showing desktop and reading mode indicators on item list" src="https://github.com/user-attachments/assets/4bf8bb5e-a1b0-48f7-b68e-939c1d2c6f47" />

If an item is not visible on the current platform or mode, and indicator will appear next to the item in the toolbar's item list.

- When that item is opened, the applicable visibility setting will also be highlighted.
- If a note is not open in Reading or Editing mode, mode visibility is not highlighted.

## Improvements ðŸš€

### Settings

- `v1.29.05` All new toolbars now have a default name of `Toolbar`, rather than leaving the field empty.
- `v1.29.05` A warning is shown if the toolbar being deleted is an app toolbar (such as the _Text selection_ toolbar).
- `v1.29.05` Help section: Moved the _Whatâ€™s new_ button to a link, so the section now takes up less room on smaller screens.
- `v1.29.05` Some toolbar list options werenâ€™t applicable if the toolbar was empty, so theyâ€™re now hidden.
- `v1.29.05` Gallery: The toolbar suggester is skipped on adding an item, if there aren't any existing toolbars.

### Other improvements

- `v1.29.14` Gallery: Added navigation for daily notes with the [Periodic Notes â†—](https://github.com/liamcain/obsidian-periodic-notes) plugin.
- `v1.29.08` Phones: Added close buttons to all help views (Gallery, Help, Tips, What's New). 
- `v1.29.06` Added a `Note Toolbar: Open Help` command.
- `v1.29.06` Added new URIs to open the Note Toolbar main settings and New toolbar windows.

## Fixes ðŸ› ï¸

Settings:

- Toolbar button alignment + item wrapping issues on phones.
- Toolbar list controls were taking up too much room on phones.
- Phone: Item + Mapping New/Search buttons should now be larger (full width).

### Other fixes

- `v1.29.14` Properties changes were updating the disabled state for command items in the toolbar.
- `v1.29.14` Settings: The toolbar search field is now only focussed on desktop, as it was bringing up the keyboard on tablets.
- `v1.29.14` Item suggester: The Gallery divider heading no longer gets focus on keyboard navigation.
- `v1.29.14` Toolbar updates were unnecessarily occurring for text toolbars.

## API

### `ntb.suggester()` custom input class, icon, collapsed style

> Available in `v1.29.23+`

- The class `ntb-is-custom-input` is added to the custom suggestion in the list, when `allowCustomInput` is used.
  - The below example sets the icon to green when a non-custom input is entered or selected.

```css
.prompt.note-toolbar-ui[data-ntb-ui-type="suggester"]:has(.suggestion-item.is-selected.ntb-is-custom-input) .ntb-suggester-input-icon {
	color: green;
}
```

> Available in `v1.29.14+`

<img width="600" src="https://github.com/user-attachments/assets/ecd9dbf6-2166-48cc-b529-c6e5bad044dc" />

- Optionally set an icon which will be shown to the left of the Suggester's input field.
- Set `collapse: true` to only show the input field of the suggester, until input is entered. Defaults to `false`.
- An error message is now shown in the console if the `options` object is accidentally passed in as the `keys` parameter.

Example usage:
```js
const values = ["value 1", "value 2"];
const selectedKey = await ntb.suggester(values, null, {
  placeholder: "Find something...",
  icon: "search",
  collapse: true
});

new Notice(selectedKey);
```

_Thank you @FelipeRearden [for the ideas](https://github.com/chrisgurney/obsidian-note-toolbar/discussions/514)!_

### `ntb.export()`

This function exports the given toolbar as a [Note Toolbar callout](https://github.com/chrisgurney/obsidian-note-toolbar/wiki/Note-Toolbar-Callouts). ([See the documentation.](https://github.com/chrisgurney/obsidian-note-toolbar/wiki/Note-Toolbar-API#export))

- This was an existing function (under `Toolbar`) that has been moved under `ntb`.
- This change was required as `ntb.getToolbars()` was not working from the new [Obsidian CLI â†—](https://help.obsidian.md/cli).

> [!important]
> This is a breaking change: Instead of calling `toolbar.export()`, use `ntb.export(toolbar)`.

## Previous releases

[`v1.28`](https://github.com/chrisgurney/obsidian-note-toolbar/blob/master/docs/releases/en/1.28.md) Item visibility for Reading and Editing modes; NTB Callout "Card" style; Navbar Ribbon button toolbar; intuitive visibility controls; and more

[`v1.27`](https://github.com/chrisgurney/obsidian-note-toolbar/blob/master/docs/releases/en/1.27.md) Obsidian 1.11 support; hide the Navbar; Floating toolbars; and more

[`v1.26`](https://github.com/chrisgurney/obsidian-note-toolbar/blob/master/docs/releases/en/1.26.md) Selected text toolbars; Tab bar position; toggle native Base toolbars; and more